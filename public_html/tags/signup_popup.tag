<signup_popup id='signup'>
    <div id="wraper" if={DataMixin.state=="signup_popup"}>

        <div class="flex-container flex-item-center">
            <div class="flex-item">
                <!--  <img src="../assets/img/R L.png" alt="" id='loginLogo'/>  -->
                <!--  <svg viewBox="0 0 582.1846923828125 160" preserveAspectRatio="xMidYMid meet" class=" logo" id="fggbcchd" style="width: 70%; height: 70%;"><defs id="SvgjsDefs1083"></defs><g id="SvgjsG1084" featurekey="root" fill="#ffffff" transform="matrix(1,0,0,1,0,0)"></g><g id="SvgjsG1085" featurekey="container1" fill="#634c73" transform="matrix(1.1472275501962745,0,0,1.1472275501962745,20.000007152557373,20.000007152557373)"><path xmlns="http://www.w3.org/2000/svg" d="M52.3 104.6a52.3 52.3 0 1 1 52.3-52.3 52.4 52.4 0 0 1-52.3 52.3zm0-102.3a50 50 0 1 0 50 50 50 50 0 0 0-50-50z" fill=""></path></g><g id="SvgjsG1086" featurekey="symbol1" fill="#634c73" transform="matrix(0.8157319284519977,0,0,0.8157319284519977,39.21905163508362,39.2190519268121)"><title>22</title><g data-name="Group"><path data-name="Compound Path" d="M94.5,35.5a4.5,4.5,0,0,0-4.2,3H67.7a17,17,0,0,0-1.9-5H82.3a4.5,4.5,0,1,0,0-3H63.5V11H76.8a4.5,4.5,0,1,0,0-3H62a1.5,1.5,0,0,0-1.5,1.5V28a17,17,0,0,0-6-2.5V17.7a4.5,4.5,0,1,0-3,0v7.3h-.6a17.3,17.3,0,0,0-4.4.6V9.7a4.5,4.5,0,1,0-3,0v17a17,17,0,0,0-5,3.6V17.7a4.5,4.5,0,1,0-3,0V32H13V18.7a4.5,4.5,0,1,0-3,0V33.5A1.5,1.5,0,0,0,11.5,35h23a14,14,0,0,0-9.9,6H17.7a4.5,4.5,0,1,0,0,3H23a13.9,13.9,0,0,0-.9,4.9H9.7a4.5,4.5,0,1,0,0,3H22.4a14,14,0,0,0,2.2,5H17.7a4.5,4.5,0,1,0,0,3h9.8A14,14,0,0,0,34,62.8V83.9l-2.4-2.4a1.5,1.5,0,0,0-2.1,2.1l5,5a1.5,1.5,0,0,0,2.1,0l5-5a1.5,1.5,0,0,0-2.1-2.1L37,83.9V63H50.5V93.9l-2.4-2.4a1.5,1.5,0,1,0-2.1,2.1l5,5a1.5,1.5,0,0,0,2.1,0l5-5a1.5,1.5,0,0,0-2.1-2.1l-2.4,2.4V63h11V76.9l-2.4-2.4a1.5,1.5,0,1,0-2.1,2.1l5,5a1.5,1.5,0,0,0,2.1,0l5-5a1.5,1.5,0,0,0-2.1-2.1l-2.4,2.4v-14a11.3,11.3,0,0,0,8.1-4.4H89.3a4.5,4.5,0,1,0,0-3H77.2a11.2,11.2,0,0,0,.5-6h4.6a4.5,4.5,0,1,0,0-3H76.7a11.4,11.4,0,0,0-5-5H90.3a4.5,4.5,0,1,0,4.2-6ZM81,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,81,8ZM53,12a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,53,12ZM45,4a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,45,4ZM11.5,13A1.5,1.5,0,1,1,10,14.5,1.5,1.5,0,0,1,11.5,13Zm2,31A1.5,1.5,0,1,1,15,42.5,1.5,1.5,0,0,1,13.5,44Zm-8,8A1.5,1.5,0,1,1,7,50.5,1.5,1.5,0,0,1,5.5,52Zm88,3.5A1.5,1.5,0,1,1,92,57,1.5,1.5,0,0,1,93.5,55.5Zm-7-9A1.5,1.5,0,1,1,85,48,1.5,1.5,0,0,1,86.5,46.5Zm0-16A1.5,1.5,0,1,1,85,32,1.5,1.5,0,0,1,86.5,30.5ZM37,12a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,37,12ZM13.5,60A1.5,1.5,0,1,1,15,58.5,1.5,1.5,0,0,1,13.5,60Zm61.4-8.4A8.4,8.4,0,0,1,66.6,60H36.1a11,11,0,1,1,0-22.1,1.5,1.5,0,0,0,1.6-.9A14.1,14.1,0,0,1,50.9,28,14.3,14.3,0,0,1,65.1,41.8a1.5,1.5,0,0,0,1.5,1.5A8.4,8.4,0,0,1,74.9,51.6ZM94.5,41.5A1.5,1.5,0,1,1,96,40,1.5,1.5,0,0,1,94.5,41.5Z"></path></g></g><g id="SvgjsG1087" featurekey="text1" fill="#000000" transform="matrix(4.386522589616345,0,0,4.386522589616345,161.50710098366443,4.202819330480132)"><path d="M11.254 10.441 c0.18644 0 0.33898 0.13559 0.33898 0.33898 l0 2.0169 c0 0.18644 -0.15254 0.33898 -0.33898 0.33898 l-3.6102 0 l0 10.508 c0 0.22034 -0.13559 0.35576 -0.32203 0.35576 l-1.678 0 c-0.55932 0 -0.88136 -0.38983 -0.88136 -0.91525 l0 -9.9492 l-3.6102 0 c-0.18644 0 -0.35593 -0.13559 -0.35593 -0.33881 l0 -2 c0 -0.20339 0.15254 -0.35593 0.35593 -0.35593 l10.102 0 z M27.609830508474577 23.55932 c0.050847 0.22034 -0.033402 0.44117 -0.2029 0.44117 l-1.8475 0 c-0.55932 0 -0.88136 -0.38983 -0.88136 -0.89831 l0 -3.7288 c0 -0.84746 -0.57627 -1.2205 -1.2712 -1.2205 c-0.55932 0 -1.0678 0.28814 -1.5254 0.74576 l0 3.5424 c0.016949 0.50847 0.067797 0.81356 0.13559 1.1186 c0.050847 0.22034 -0.033898 0.44051 -0.20339 0.44051 l-1.8475 0 c-0.55932 0 -0.88136 -0.38983 -0.88136 -0.89831 l0 -3.7288 c0 -0.84746 -0.57627 -1.2205 -1.2712 -1.2205 c-0.55932 0 -1.0849 0.28814 -1.5256 0.74576 l0 4.7627 c0 0.18644 -0.15254 0.33881 -0.33898 0.33881 l-2.1356 0 c-0.18644 0 -0.32203 -0.15238 -0.32203 -0.33881 l0 -7.712 c0 -0.18644 0.13559 -0.33898 0.32203 -0.33898 l1.5932 0 c0.23729 0.15254 0.47458 0.44068 0.66102 0.67797 c0.61017 -0.42356 1.3898 -0.77949 2.3051 -0.77949 c1.0678 0 2.0846 0.42373 2.7456 1.2034 c0.6778 -0.59322 1.6439 -1.2034 2.8473 -1.2034 c1.8475 0 3.5085 1.2542 3.5085 3.3559 l0 3.5763 c0.016949 0.50847 0.067797 0.81356 0.13559 1.1186 z M33.559176271186445 24.11864 c2.3898 0 4.4068 -1.8642 4.4068 -4.3049 c0 -2.4746 -2.0169 -4.322 -4.4068 -4.322 s-4.4068 1.8475 -4.4068 4.322 c0 2.4407 2.0169 4.3049 4.4068 4.3049 z M33.559176271186445 21.5595 c-1 0 -1.7288 -0.81356 -1.7288 -1.7288 c0 -0.9322 0.72881 -1.7627 1.7288 -1.7627 s1.7288 0.83051 1.7288 1.7627 c0 0.91525 -0.72881 1.7288 -1.7288 1.7288 z M42.37286779661017 10.441 l-2.1188 -0.00016552 c-0.20339 0 -0.33898 0.15254 -0.33898 0.33898 l0 12.305 c0 0.52542 0.3222 0.91525 0.88153 0.91525 l1.5932 0 c0.18644 0 0.32186 -0.13543 0.32186 -0.35576 l0 -12.864 c0 -0.18644 -0.15238 -0.33898 -0.33881 -0.33898 z M51.47460508474576 20.6949 c0.83034 0 1.3393 -0.47424 1.3393 -1.2878 c0 -1.9831 -1.5424 -3.9153 -4.0678 -3.9153 c-2.3898 0 -4.2203 1.9153 -4.2203 4.3051 c0 2.5592 1.9661 4.288 4.3729 4.288 c1.4914 0 2.6269 -0.47458 3.288 -1.3898 c0.15254 -0.18644 0.13559 -0.33898 0 -0.52542 l-0.42373 -0.64407 c-0.16949 -0.25441 -0.35593 -0.22051 -0.55932 -0.13576 c-0.52542 0.22034 -1.3051 0.42373 -2.0678 0.42373 c-0.88136 0 -1.7119 -0.38983 -1.8985 -1.1186 l4.2373 0 z M47.22070508474577 18.7631 c0.10169 -0.40678 0.64407 -0.88136 1.4915 -0.88136 s1.3897 0.47458 1.4575 0.88136 l-2.949 0 z M61.338777966101695 22.6102 c0.13559 0.16949 0.11881 0.3561 -0.033732 0.49169 c-0.74576 0.61017 -1.661 1.0168 -2.7797 1.0168 c-2.3898 0 -4.4068 -1.8303 -4.4068 -4.288 c0 -2.4746 2.0169 -4.339 4.4068 -4.339 c1.1525 0 2.0678 0.42373 2.8305 1.0847 c0.15238 0.13559 0.15238 0.32203 0.033732 0.49153 l-1.0339 1.2881 c-0.13559 0.16966 -0.28814 0.18644 -0.54237 0.033898 c-0.33898 -0.23729 -0.71186 -0.32203 -1.2034 -0.32203 c-0.9661 0 -1.7795 0.74576 -1.7795 1.7458 c0 0.98305 0.81339 1.7456 1.7795 1.7456 c0.50847 0 0.86441 -0.11864 1.2203 -0.35593 c0.23729 -0.15254 0.37288 -0.13559 0.52542 0.067797 z M71.22014237288136 15.6102 c0.18661 0 0.32203 0.15205 0.32203 0.33849 l0 7.712 c0 0.18644 -0.13559 0.33881 -0.3222 0.33881 l-1.6947 0 c-0.15254 -0.15238 -0.37271 -0.42356 -0.55932 -0.6778 c-0.61017 0.44068 -1.3898 0.77932 -2.3051 0.77932 c-1.8305 0 -3.5083 -1.2539 -3.5083 -3.3556 l0 -3.6102 c-0.016949 -0.50847 -0.067797 -0.81356 -0.13559 -1.1186 c-0.050847 -0.22017 0.033898 -0.44051 0.20339 -0.44051 l1.8476 0 c0.55915 0 0.88136 0.38983 0.88136 0.89831 l0 3.7627 c0 0.84746 0.57627 1.2205 1.271 1.2205 c0.55932 0 1.0847 -0.28814 1.5254 -0.74576 l0 -4.7627 c0 -0.18644 0.15254 -0.33898 0.33898 -0.33898 l2.1354 0 z M76.20337627118644 10.441 l-2.1188 -0.00016552 c-0.20339 0 -0.33898 0.15254 -0.33898 0.33898 l0 12.305 c0 0.52542 0.3222 0.91525 0.88153 0.91525 l1.5932 0 c0.18644 0 0.32186 -0.13543 0.32186 -0.35576 l0 -12.864 c0 -0.18644 -0.15238 -0.33898 -0.33881 -0.33898 z M85.30511355932204 20.6949 c0.83034 0 1.3393 -0.47424 1.3393 -1.2878 c0 -1.9831 -1.5424 -3.9153 -4.0678 -3.9153 c-2.3898 0 -4.2203 1.9153 -4.2203 4.3051 c0 2.5592 1.9661 4.288 4.3729 4.288 c1.4914 0 2.6269 -0.47458 3.288 -1.3898 c0.15254 -0.18644 0.13559 -0.33898 0 -0.52542 l-0.42373 -0.64407 c-0.16949 -0.25441 -0.35593 -0.22051 -0.55932 -0.13576 c-0.52542 0.22034 -1.3051 0.42373 -2.0678 0.42373 c-0.88136 0 -1.7119 -0.38983 -1.8985 -1.1186 l4.2373 0 z M81.05121355932204 18.7631 c0.10169 -0.40678 0.64407 -0.88136 1.4915 -0.88136 s1.3897 0.47458 1.4575 0.88136 l-2.949 0 z M88.08457644067796 22.6949 l0.81405 -1.2886 c0.15254 -0.23729 0.30508 -0.30508 0.50831 -0.20339 c0.10169 0.067797 1.0678 0.59339 1.8814 0.59339 c0.45763 0.016784 0.67797 -0.13559 0.67797 -0.35593 c0 -0.27119 -0.23729 -0.37288 -1.339 -0.67797 c-1.5085 -0.40678 -2.5254 -1.3559 -2.5254 -2.6441 c-0.016949 -1.322 1.1356 -2.6102 3.2203 -2.6102 c1.2373 0 1.9492 0.32203 2.7625 0.79661 c0.22034 0.13559 0.32203 0.32203 0.20339 0.49169 l-0.89831 1.3729 c-0.11864 0.16949 -0.30525 0.22034 -0.47475 0.15254 c-0.16966 -0.084746 -0.9322 -0.49153 -1.5763 -0.49153 c-0.40661 0 -0.61 0.15254 -0.61 0.35593 c0 0.22034 0.35593 0.35593 1.0678 0.54254 c1.5422 0.42356 2.9659 1.271 2.9659 2.7797 c0 1.4407 -1.4068 2.61 -3.4746 2.61 c-1.3729 0 -2.6781 -0.6778 -3.1017 -1.0168 c-0.11864 -0.084746 -0.18644 -0.28814 -0.10169 -0.40678 z"></path></g></svg>  -->
            </div>
            
            <div class="flex-item signup_subtite">
                <!--  Welcome to techstack21!  -->
            </div>
            
            <div class="flex-item">
                <div class="signupBox">
                    
                    <div class="fb" data-social="facebook" onclick="{socialAuthentication}">
                        <i class="fa fa-facebook" style="color: white;">
                            <span class="">Sign in with Facebook</span>
                        </i>
                    </div>
                    
                    <div class="padding_top10"></div>
                    
                    <div class="gp" data-social="google" onclick="{socialAuthentication}">
                        <i class="fa fa-google-plus" style="color:white">
                            <span> Sign in with Google</span>
                        </i>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>

    <style>
        #footerText {
            padding: 5px 10px;
            bottom: 0px;
            position: fixed;
        }
    </style>

    <script>
    
    this.mixin(SharedMixin);
    var self = this;
    self.previousState = '';
    self.data = {};

    self.observable.on('previous_state', function(previousState) {
        self.previousState = previousState;
        if(self.previousState == 'signup_popup'){
            self.previousState = 'post_blog';
        }
        self.update(self.previousState);
    });

    socialAuthentication(e) {
        NProgress.start();
        var social = e.currentTarget.dataset.social;
        popupTools.popup('auth/'+social+'/', "Google Authentication", {}, function (err, user) {
            if (err) {
                console.error(err.message);
                NProgress.done();
            } else {
                $('#cbp-spmenu-s2').removeClass('cbp-spmenu-open');
                console.log('user social profile ', user);
                DataMixin.data.username = user.username;
                DataMixin.data.userImage = user.profilePhoto;
                self.currentState = DataMixin.state;
                self.observable.trigger('previous_state', self.currentState);
                DataMixin.setAuthentication(user);
                riot.route(self.previousState);
                NProgress.done();
            }
        });
    }

//    getCommentCount(){
//        console.log('getting comment count...');
//        $.ajax({
//            url: '/getAllComments/',
//            type: 'GET',
//            async: true,
//            success: function(res){
//                console.log('Fetched comments on load: ', res);
//
//                self.commentCount = Object.create(null);
//                res.forEach(function (a, i) {
//                    self.commentCount[a.topicId] = (self.commentCount[a.topicId] || 0) + 1;
//                });
//
//                DataMixin.data.topics.forEach(function(o) {
//                    var c = self.commentCount[o.topicId];
//                    if(c !== undefined)
//                        o.commentCount = c;
//               });
////                    console.log('DataMixin.data.topics ', DataMixin.data.topics);
//
//                //UPDATE AFTER GETTING COMMENT COUNT
////                    self.update(self.data.topics);
//                self.observable.trigger('data_on_login');
//            },
//            error: function(err){
//                console.log('unable to get all comments ', err);
//            }
//        })
//    }

    </script>
</signup_popup>
